<div class="hero-form">

  <div class="hero-form-header">
    <div>
      <h2>{{ store.selectedHero().name }}</h2>
      <p>{{ 'Fill this form to edit ' + store.selectedHero().name }}</p>
    </div>
    <app-button-back></app-button-back>
  </div>

  <div class="hero-form-wrapper">

    <img mat-card-image [src]="'assets' + store.selectedHero().imageUrl" alt="{{ store.selectedHero().name }}" width="400" height="600" />

    <div class="hero-form-wrapper-form">
      <form [formGroup]="heroForm" class="hero-form-wrapper-form">

        <mat-form-field class="form-field">
          <mat-label for="name">Name:</mat-label>
          <input matInput id="name" type="text" formControlName="name">
        </mat-form-field>

        <mat-form-field class="form-field">
          <mat-label for="realName">Real Name:</mat-label>
          <input matInput id="realName" type="text" formControlName="realName">
        </mat-form-field>

        <mat-form-field class="form-field">
          <mat-label for="alias">Alias:</mat-label>
          <input matInput id="alias" type="text" formControlName="alias">
        </mat-form-field>

        <mat-form-field class="form-field">
          <mat-label>Alignment</mat-label>
          <mat-select formControlName="alignment">
            <mat-option value="heroes">Heroes</mat-option>
            <mat-option value="complicated">Its' complicated</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="form-field">
          <mat-label>Team</mat-label>
          <mat-select formControlName="team">
            <mat-option value="justice">Justice League</mat-option>
            <mat-option value="titans">Titans</mat-option>
            <mat-option value="new">New team!</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="form-field">
          <mat-label for="origin">Origin:</mat-label>
          <input matInput id="origin" type="text" formControlName="origin">
        </mat-form-field>

        <mat-form-field class="form-field">
          <mat-label for="firstAppearance">First Appearance:</mat-label>
          <input matInput id="firstAppearance" type="text" formControlName="firstAppearance">
        </mat-form-field>

        <mat-label>Powers</mat-label>
        <section class="power-section" formGroupName="powersGroup">
          @for (power of powers; track power) {
          <div class="power-section-checkbox">
            <mat-checkbox [formControlName]="power">{{ power }}</mat-checkbox>
          </div>
          }
        </section>

      </form>
      <button mat-fab extended class="hero-form-button" color="primary" (click)="openDialog()"
        [disabled]="!heroForm.valid">
        <mat-icon>edit</mat-icon>
        Save {{ store.selectedHero().name }}
      </button>
    </div>
  </div>

  @if (store.loading()) {
  <pre>...Loading</pre>
  <app-loader></app-loader>
  }
</div>